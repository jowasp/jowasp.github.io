<!DOCTYPE HTML>
<html>
	<head>
		<title></title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,700" rel="stylesheet" />
		<script src="js/jquery-1.8.2.min.js"></script>
		<script src="css/5grid/init.js?use=mobile,desktop,1000px&amp;mobileUI=1&amp;mobileUI.theme=none"></script>
		<script src="js/jquery.dropotron-1.2.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/5grid/core.css" />
			<link rel="stylesheet" href="css/5grid/core-desktop.css" />
			<link rel="stylesheet" href="css/5grid/core-1200px.css" />
			<link rel="stylesheet" href="css/5grid/core-noscript.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-desktop.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie8.css" /><![endif]-->
		<!--[if lte IE 7]><link rel="stylesheet" href="css/ie7.css" /><![endif]-->
	</head>
	<body>

		<div id="wrapper">

			<!-- Header Wrapper -->
				<div id="header-wrapper">

					<!-- Header -->
						<header id="header">
							<div class="5grid-layout">
								<div class="row">

									<!-- Logo -->
										<div class="4u" id="logo">
											<section>
												<h1><a href="#" class="mobileUI-site-name">OWASP<span>Research</span></a></h1>
											</section>
										</div>

									<!-- Nav -->
										<div class="8u">

											<nav id="nav" class="mobileUI-site-nav">
												<ul>
													<li><a href="index.html">Homepage</a></li>
													<li>
														<a href="researchtopics.html" class="arrow">Topics</a>
														<ul>
															<li><a href="researchtopics.html">OWASP Benchmark</a></li>
															<li><a href="researchtopics.html">Javascript Cryptography</a></li>
															<li><a href="researchtopics.html">Shell-Code</a></li>
														</ul>
													</li>
												</ul>
											</nav>

										</div>

								</div>
							</div>
						</header>

				</div>

			<!-- Main Wrapper -->
				<div id="main-wrapper">
					<div class="5grid-layout">
						<div class="row">

							<!-- Content -->
								<div id="content" class="12u mobileUI-main-content">

									<article class="box">
										<h2>Research: Javascript Cryptography/Obfuscation techniques used in Drive-By-Dowload attacks</h2>
										<p class="subtitle">Projects</p>
										<p>
To discuss further about them, please join our group list: https://groups.google.com/a/owasp.org/forum/?hl=en#!forum/owasp-research

<h2>Research: Javascript Cryptography/Obfuscation techniques used in Drive-By-Dowload attacks</h2>

<p>The recent and common practice of hackers, is to infect with malware using a rising methodology called: ‘Drive-by-Download’. The Ankler Kit Exploit  for example uses Obfuscated Javascript code in these attacks. The attack targets vulnerable browsers (Internet Explorer) injecting payload, it creates a malicious webpage containing encrypted or obfuscated javascript code which hides or disguises the exploitation part.
Given the big popularity of this attack, the research would like to answer the following questions</p>

Research questions:
<ol class="style1">
<li>Are actual browsers able to identify web pages containing these malicious- obfuscated javascript code?</li>
<li>If they do, what kind of messages are displayed to the users?</li>
<li>Are these messages enough to alert users regaridng potential exploitation?</li>
<li>If not, what possible solutions could be developed to alert potential victims or users about the attack before is to late?</li>
</ol>
<b>Preliminary findings</b></br></br>
<p>We did a small test with a malicious webpage which contains obfuscated Javascript code (using BASE64) and it can be easily de-obfuscated using Javascript De-obfuscater Firefox plug-in.
After reading the code, the browser targeted is Microsoft IE trying to execute an ActiveObjectX component. Opening this page in IE version 11.0.9600.18053 does alert the user about a blocked
content but it does not explain the nature and why. Indeed an inexperienced user could just unblock the content, thinking that he has land in a legitimate site or open the html page.
If the user allows to unblocked the content, the script proceeds to contact through UDP/DNS a suspicious domain name.</br></br>

<b>Firefox JavaScript DeObfuscator</b></br></br>
This an  add-on shows you what JavaScript code runs on a web page, even if it is obfuscated and generated on the fly. Simply open JavaScript Deobfuscator from the Web Developer menu and watch the scripts being compiled/executed.
https://addons.mozilla.org/en-US/firefox/addon/javascript-deobfuscator/</br></br>

<b>Scripts to obfuscate and deobfuscate</b></br></br>
Ali Ramzoo has kindly created some basic scripts that shows these functions of obfuscation and deofuscation.

First put the file.html and good.js on your desktop in same directory.</br>
Open <a href='file.html'>file.html</a> and you will see it showing the clock.</br>
Now run the python file. it will open <a href='good.js'>good.js</a> file in same directory and output is <a href='encode.js'>encode.js</a> [see  encode.js too but you can generate it yourself]</br>
Now edit html source code and replace src="good.js" with src="encode.js" [or replace the content of encode.js with good.js]</br>
open your file.html again and you will see it open the same as before. just we encode good.js :)</br>
This way we can generate more powerful encodes automaticly with python and conver any .js file to random encoding or some encoding with formula ...</br>
 </p>

									</article>

									<!-- Two Column Content -->
									<!-- Two Column Content -->

								</div>
							<!-- Content Ends Here -->

						</div>
					</div>
				</div>

			<!-- Copyright Wrapper -->
				<div id="copyright-wrapper">

					<div class="5grid-layout">
						<div class="row">
							<div class="12u">

								<!-- Copyright -->
									<div id="copyright">
										&copy; OWASP Research
									</div>

							</div>
						</div>
					</div>

				</div>
			<!-- Copyright Wrapper -->

		</div>

	</body>
</html>
